<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>web-rwd by xyscat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">web-rwd</h1>
      <h2 class="project-tagline">响应式网站demos</h2>
      <a href="https://github.com/xyscat/RWD" class="btn">View on GitHub</a>
      <a href="https://github.com/xyscat/RWD/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/xyscat/RWD/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="响应式网站设计" class="anchor" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>响应式网站设计</h1>

<p><strong>目录：</strong></p>

<ol>
<li><p>前期准备</p></li>
<li><p>如何组织项目目录结构</p></li>
<li><p>开始编写HTML代码</p></li>
<li><p>实现PC端的样式</p></li>
<li><p>实现移动端的样式</p></li>
<li><p>实现响应式广告和响应式图片</p></li>
<li><p>nodejs简介</p></li>
<li><p>处理兼容性及多设备调试</p></li>
<li><p>打包发布</p></li>
<li><p>IDE</p></li>
<li><p>原型设计和切图</p></li>
</ol>

<h2>
<a id="1-前期准备" class="anchor" href="#1-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1 前期准备</h2>

<p>本项目为一个互联网金融的响应式网站。</p>

<h3>
<a id="响应式网站设计-1" class="anchor" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>响应式网站设计</h3>

<p>“响应式互联网设计”: <a href="http://alistapart.com/article/responsive-web-design" title="responsive-web-design">http://alistapart.com/article/responsive-web-design</a>。</p>

<p>弹性布局——响应式网站。</p>

<p>响应式网站概念：</p>

<ul>
<li>弹性网格布局；</li>
<li>弹性图片；</li>
<li>媒体查询；</li>
</ul>

<h3>
<a id="关于浏览器" class="anchor" href="#%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>关于浏览器</h3>

<p>QQ浏览器的X5内核：<a href="http://x5.tencent.com/">http://x5.tencent.com/</a></p>

<h3>
<a id="关于媒体查询" class="anchor" href="#%E5%85%B3%E4%BA%8E%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>关于媒体查询</h3>

<pre><code>@media all and (min-width:800px) and (orientation:landscape){
    ……
}
</code></pre>

<h2>
<a id="2-如何组织项目目录结构" class="anchor" href="#2-%E5%A6%82%E4%BD%95%E7%BB%84%E7%BB%87%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2 如何组织项目目录结构</h2>

<h2>
<a id="3-开始编写html代码" class="anchor" href="#3-%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99html%E4%BB%A3%E7%A0%81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3 开始编写HTML代码</h2>

<h2>
<a id="4-实现pc端的样式" class="anchor" href="#4-%E5%AE%9E%E7%8E%B0pc%E7%AB%AF%E7%9A%84%E6%A0%B7%E5%BC%8F" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>4 实现PC端的样式</h2>

<h2>
<a id="5-实现移动端的样式" class="anchor" href="#5-%E5%AE%9E%E7%8E%B0%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%9A%84%E6%A0%B7%E5%BC%8F" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>5 实现移动端的样式</h2>

<h2>
<a id="6-实现响应式广告和响应式图片" class="anchor" href="#6-%E5%AE%9E%E7%8E%B0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B9%BF%E5%91%8A%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9B%BE%E7%89%87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>6 实现响应式广告和响应式图片</h2>

<h3>
<a id="响应式广告实现" class="anchor" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B9%BF%E5%91%8A%E5%AE%9E%E7%8E%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>响应式广告实现</h3>

<p><strong>完善的广告滚动组件</strong>：</p>

<ul>
<li>支持不同图片数量；</li>
<li>支持响应式布局；</li>
<li>具有良好的兼容性；</li>
</ul>

<p>不要重复造轮子--<strong>挑选第三方组件</strong>：</p>

<ul>
<li>使用广泛性；</li>
<li>开源且活跃；</li>
<li>文档齐全；</li>
<li>轻量级；</li>
<li>Owl Carousel2组件，依赖于jQuery或Zepto；</li>
</ul>

<p>CDN方式链接文件：
<a href="https://cdnjs.com/" title="cdnjs官网">https://cdnjs.com/</a></p>

<p>国内可以选择BAT的CDN链接；</p>

<p><strong>流程</strong>：</p>

<ol>
<li>引入Owl Carousel2的css和js文件；</li>
<li>设置默认的样式文件<code>owl.theme.default.min.css</code>；</li>
<li>书写匹配的HTML结构；</li>
<li>调用组件，在js文件中调用；</li>
<li>API的参数设置，直接在上面组件的调用<code>owlCarousel()</code>方法里传入参数的对象形式；</li>
</ol>

<h3>
<a id="图片的响应式" class="anchor" href="#%E5%9B%BE%E7%89%87%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>图片的响应式</h3>

<p>响应式图片：适配不同端图片的区别。</p>

<ul>
<li>JS或服务端；编写JS脚本判断浏览器的页面尺寸，或在服务器端编码验证客户端尺寸；</li>
</ul>

<pre><code>
    &lt;!--响应式图片设置js脚本--&gt;
    &lt;script&gt;
        $(document).ready(function(){

            function makeImageResponsive(){
                var width = $(window).width();
                var img = $('.content img');
                if(width &lt;= 480){
                    img.attr('src','img/ad001.png');
                }else if(width &lt;= 800){
                    img.attr('src','img/ad001-m.png');
                }else{
                    img.attr('src','img/ad001-l.png');
                }
            }

            $(window).on('resize load',makeImageResponsive);
        })
    &lt;/script&gt;

</code></pre>

<ul>
<li><p>HTML元素属性实现：srcset属性、srcset属性配合sizes；</p></li>
<li><p>picture元素 + source元素：浏览器找到相适配的源文件设置；</p></li>
<li><p>svg格式的图片：缩放不失真，H5-SVG图片，BAT公司的SVG图库；</p></li>
</ul>

<p><strong>注意</strong>：</p>

<ol>
<li><p>srcset单独设置存在问题，需配合sizes属性；</p></li>
<li><p>Google的webp压缩格式图片；</p></li>
<li><p>编辑器：Illustrator，在线编辑器<a href="https://icomoon.io/">https://icomoon.io/</a>；</p></li>
<li><p>SVG的兼容性较好；</p></li>
<li>
<p><strong>图片压缩</strong>：</p>

<ul>
<li>SVG压缩 <a href="http://iconizr.com/" title="SVG压缩">http://iconizr.com/</a>;</li>
<li>PNG/JPG压缩 <a href="https://tinypng.com/" title="png/jpg压缩">https://tinypng.com/</a>;</li>
</ul>
</li>
</ol>

<h3>
<a id="具体实现" class="anchor" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>具体实现</strong>：</h3>

<ul>
<li><p>polyfill方法：对于新特性，polyfill使更有能力的浏览器做得更好，逊色的浏览器也可以有自己的替代方法；</p></li>
<li><p>对于picture元素的polyfill库——picture库 <a href="http://scottjehl.github.io/picturefill/" title="picturefill">http://scottjehl.github.io/picturefill/</a>;</p></li>
<li><p>引入picturefill的js库文件，用picture实现响应式图片；</p></li>
</ul>

<h2>
<a id="7-nodejs简介" class="anchor" href="#7-nodejs%E7%AE%80%E4%BB%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>7 Node.js简介</h2>

<p>Node.js中文网 <a href="http://nodejs.cn/" title="Node.js中文网">http://nodejs.cn/</a></p>

<blockquote>
<p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。Node.js 的包管理器 npm，是全球最大的开源库生态系统。</p>
</blockquote>

<h3>
<a id="安装nodejs" class="anchor" href="#%E5%AE%89%E8%A3%85nodejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>安装Node.js</h3>

<ul>
<li>检验安装：</li>
</ul>

<p>Git Bash或 DOS 下 ： 输入 <code>node -v</code> 提示版本号 <code>v6.2.0</code>;</p>

<ul>
<li>hello Node.js</li>
</ul>

<p>Git Bash或 DOS 下 ： 输入 <code>node test.js</code> 会解释执行js文件;</p>

<h3>
<a id="npm使用" class="anchor" href="#npm%E4%BD%BF%E7%94%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>npm使用</h3>

<p>npm官网：<a href="https://www.npmjs.com/" title="npm官网">https://www.npmjs.com/</a></p>

<ul>
<li>检验安装：</li>
</ul>

<p>Git Bash或 DOS 下 ： 输入 <code>npm -v</code> 提示版本号 <code>3.8.9</code>;</p>

<p>-下载Node.js包:</p>

<p>命令：<code>npm install jquery</code>，会在下载到node_modules目录下;</p>

<ul>
<li>package.json:</li>
</ul>

<p>创建 package.json 文件命令：<code>npm init</code>;</p>

<pre><code>
    //创建的package.json文件
    {
      "name": "demo",
      "version": "1.0.0",
      "description": "",
      "main": "js.js",
      "dependencies": {
        "jquery": "^3.1.0"
      },
      "devDependencies": {},
      "scripts": {
        "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
      },
      "author": "",
      "license": "ISC"
    }

</code></pre>

<ul>
<li>根据 package.json 下载所依赖的包：</li>
</ul>

<p>命令： <code>npm i</code> 或 <code>npm i --dev</code> 或 <code>npm i --production</code>;</p>

<ul>
<li>全局安装：</li>
</ul>

<p>全局范围可用express，不存在与某个项目下。</p>

<p>命令：<code>npm install -g express</code>;</p>

<ul>
<li>同步更改package.json依赖的安装：</li>
</ul>

<p>命令：<code>npm install gulp --save</code> 生产环境依赖包；<code>npm install gulp --save-dev</code> 开发环境依赖包;</p>

<ul>
<li>卸载包：</li>
</ul>

<p>命令：<code>npm uninstall gulp --save-dev</code>;</p>

<ul>
<li>更新包：</li>
</ul>

<p>命令：<code>npm update jquery</code>;<code>npm update</code> 更新所有；</p>

<h3>
<a id="nodejs-启动-server-服务器" class="anchor" href="#nodejs-%E5%90%AF%E5%8A%A8-server-%E6%9C%8D%E5%8A%A1%E5%99%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Node.js 启动 server 服务器</h3>

<p>http-server：基于Nodejs的轻量级HTTP服务器；GitHub地址：<a href="https://github.com/indexzero/http-server">https://github.com/indexzero/http-server</a></p>

<ul>
<li>安装：<code>npm install http-server -g</code>;</li>
<li>开启服务: <code>http-server</code>;</li>
<li>关闭服务: <code>Ctrl + C</code>;</li>
</ul>

<h2>
<a id="8-处理兼容性及多设备调试" class="anchor" href="#8-%E5%A4%84%E7%90%86%E5%85%BC%E5%AE%B9%E6%80%A7%E5%8F%8A%E5%A4%9A%E8%AE%BE%E5%A4%87%E8%B0%83%E8%AF%95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>8 处理兼容性及多设备调试</h2>

<h2>
<a id="9-打包发布" class="anchor" href="#9-%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>9 打包发布</h2>

<h3>
<a id="发布前优化" class="anchor" href="#%E5%8F%91%E5%B8%83%E5%89%8D%E4%BC%98%E5%8C%96" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>发布前优化</h3>

<ul>
<li>压缩：文件压缩 <a href="http://javascript-minifier.com/" title="文件压缩">http://javascript-minifier.com/</a>
</li>
<li>合并</li>
<li>增加版本号</li>
</ul>

<h3>
<a id="打包发布" class="anchor" href="#%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>打包发布</h3>

<ul>
<li>
<p>主流的3个工具：</p>

<ul>
<li>自动化构建工具 Grunt、Gulp；</li>
<li>静态资源打包工具 Webpack;</li>
</ul>
</li>
</ul>

<h3>
<a id="gulp使用" class="anchor" href="#gulp%E4%BD%BF%E7%94%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Gulp使用</h3>

<p>Gulp中文网 <a href="http://www.gulpjs.com.cn/" title="Gulp中文网">http://www.gulpjs.com.cn/</a></p>

<blockquote>
<ul>
<li>易于使用</li>
</ul>

<p>通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。</p>

<ul>
<li>构建快速</li>
</ul>

<p>利用 Node.js 流的威力，你可以快速构建项目并减少频繁的 IO 操作。</p>

<ul>
<li>插件高质</li>
</ul>

<p>Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。</p>

<ul>
<li>易于学习</li>
</ul>

<p>通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。</p>
</blockquote>

<p><strong>使用流程</strong>：</p>

<ol>
<li>在项目下初始化 package.json 文件；</li>
<li>安装 Gulp 并添加到 package 开发环境依赖中, <code>npm install gulp --save-dev</code> ,检验安装 <code>gulp -v</code> ;</li>
<li>根目录下建立 gulpfile.js 文件；</li>
</ol>

<pre><code>
    //建立gulp依赖
    var gulp = require('gulp');

    //建立任务
    gulp.task('task-name',function(){
        console.log('hello gulp!');
    });

</code></pre>

<ol>
<li>运行任务 <code>gulp task-name</code>；</li>
<li><p>安装 gulp 插件，<code>npm install gulp-rev gulp-rev-replace gulp-useref gulp-filter gulp-uglify gulp-csso --save-dev</code> ;</p></li>
</ol>

<ul>
<li>gulp-rev：根据文件内容为文件建立版本号(哈希码)，解决文件更改后本地缓存问题；</li>
<li>gulp-rev-replace：把更改过内容的文件版本号(哈希码)自动适配到index文件里的文件引用中；</li>
<li>gulp-useref：以在HTML页面里添加注释的方法来进行文件合并的设置；</li>
<li>gulp-filter：过滤文件操作；</li>
<li>gulp-uglify：压缩js文件；</li>
<li><p>gulp-csso：压缩css文件；</p></li>
</ul>

<ol>
<li>在 gulpfile.js 中引用各种依赖；</li>
</ol>

<pre lang="type=javascript"><code>
    //gulpfile.js文件内容
    var gulp = require('gulp');
    var rev = require('gulp-rev');
    var revReplace = require('rev-replace');
    var useref = require('gulp-useref');
    var filter = require('gulp-filter');
    var uglify = require('gulp-uglify');
    var csso = require('gulp-csso');

    gulp.task('default',function(){
        var jsFilter = filter('**/*.js',{restore: true});
        var cssFilter = filter('**/*.css',{restore: true});
        var indexHtmlFilter = filter(['**/*','!**/index.html'],{restore: true});

        return gulp.src('src/index.html')
            .pipe(useref())
            .pipe(jsFilter)
            .pipe(uglify)
            .pipe(jsFilter.restore)

            .pipe(cssFilter)
            .pipe(csso)
            .pipe(cssFilter.restore)

            .pipe(indexHtmlFilter)
            .pipe(rev())
            .pipe(indexHtmlFilter.restore)

            .pipe(revReplace)
            .pipe(gulp.dest('dist'));

        });

</code></pre>

<ol>
<li>执行 <code>gulp default</code> 开始打包 。</li>
</ol>

<p>其他gulp插件：</p>

<ul>
<li>gult-watch：更改文件,自动打包；GitHub地址 <a href="https://github.com/floatdrop/gulp-watch" title="gult-watch">https://github.com/floatdrop/gulp-watch</a>
</li>
<li>gulp-postcss：css文件添加前缀等一些处理；GitHub地址 <a href="https://github.com/postcss/gulp-postcss" title="gulp-postcss">https://github.com/postcss/gulp-postcss</a>
</li>
<li>gulp-concat：文件合并；GitHub地址 <a href="https://github.com/contra/gulp-concat" title="gulp-concat">https://github.com/contra/gulp-concat</a>
</li>
<li>gulp-responsive：生成响应式图片；GitHub地址 <a href="https://github.com/mahnunchik/gulp-responsive" title="gulp-responsive">https://github.com/mahnunchik/gulp-responsive</a>
</li>
</ul>

<h2>
<a id="7-nodejs简介-1" class="anchor" href="#7-nodejs%E7%AE%80%E4%BB%8B-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>7 nodejs简介</h2>

<h2>
<a id="8-处理兼容性及多设备调试-1" class="anchor" href="#8-%E5%A4%84%E7%90%86%E5%85%BC%E5%AE%B9%E6%80%A7%E5%8F%8A%E5%A4%9A%E8%AE%BE%E5%A4%87%E8%B0%83%E8%AF%95-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>8 处理兼容性及多设备调试</h2>

<h2>
<a id="9-打包发布-1" class="anchor" href="#9-%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>9 打包发布</h2>

<h2>
<a id="10-ide" class="anchor" href="#10-ide" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>10 IDE</h2>

<h2>
<a id="11-原型设计和切图" class="anchor" href="#11-%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%88%87%E5%9B%BE" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>11 原型设计和切图</h2>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/xyscat/RWD">web-rwd</a> is maintained by <a href="https://github.com/xyscat">xyscat</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
